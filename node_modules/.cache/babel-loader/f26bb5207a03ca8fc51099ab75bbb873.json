{"ast":null,"code":"var _jsxFileName = \"/Users/claire/Documents/GitHub/movie-app/src/components/MovieCard.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport noPoster from '../images/no-movie-poster.jpg';\nimport addFavorite from '../images/add-favorite.png';\nimport removeFavorite from '../images/remove-favorite.png';\nimport { NavLink } from 'react-router-dom';\nimport thumbup from \"../images/thumbup.svg\";\nimport thumbdown from \"../images/thumbdown.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MovieCard({\n  movieObj\n}) {\n  _s();\n\n  const [fav, setFav] = useState(false); // if movie not found in localstorage in favorites page then push movie into it\n\n  function addFav() {\n    // CLAIRE TRYING\n    // using JSON.parse so that can access to and use the values from the favMovies\n    let fave = JSON.parse(localStorage.getItem(\"favMovies\"));\n\n    if (fave.find(m => m.title == movieObj.title) != null) {\n      // const findMovie = (movie) => movie.id == movieObj.id ;\n      const index = fave.findIndex(movie => movie.id == movieObj.id);\n\n      if (index > -1) {\n        fave.splice(index, 1); // storage.setItem(keyName, keyValue); ==> both has to be in strings\n\n        localStorage.setItem(\"favMovies\", JSON.stringify(fave));\n        console.log(\"FOUND\");\n        console.log(index);\n      }\n    } else {\n      console.log(\"NOT FOUND\");\n      fave.push(movieObj);\n      localStorage.setItem(\"favMovies\", JSON.stringify(fave));\n    }\n\n    setFav(JSON.parse(localStorage.getItem(\"favMovies\")));\n  }\n\n  const heartIcon = () => {\n    let favs = JSON.parse(localStorage.getItem(\"favMovies\"));\n    console.log(typeof favs);\n\n    if (favs.find(m => m.id == movieObj.id) != null) {\n      const findMovie = movie => movie.id == movieObj.id;\n\n      const index = favs.findIndex(findMovie);\n\n      if (index > -1) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"remove-favorite\",\n          onClick: addFav,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: removeFavorite,\n            alt: \"Unfavorite icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this);\n      }\n    } else {\n      console.log(\"unfaved\");\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-favorite\",\n        onClick: addFav,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: addFavorite,\n          alt: \"Favorite icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this);\n    } // let favs = JSON.parse(localStorage.getItem(\"favMovies\"));\n    // console.log(favs);\n    // if(favs.includes(movieObj)){\n    //     if ( (favs.find(m => m.title == movieObj.title)) != null) {\n    //         console.log(\"faved\")\n    //         return (\n    //             <div className=\"remove-favorite\" onClick={addFav}>\n    //                 <img src={removeFavorite} alt=\"Unfavorite icon\" />\n    //             </div>\n    //         )\n    //     } else {\n    //         console.log(\"unfaved\");\n    //         return (\n    //             <div className=\"add-favorite\" onClick={addFav}>\n    //                 <img src={addFavorite} alt=\"Favorite icon\" />\n    //             </div>\n    //         )\n    //     }\n    // } else {\n    //     // console.log(\"unfaved\");\n    //     return (\n    //         <div className=\"add-favorite\" onClick={addFav}>\n    //             <img src={addFavorite} alt=\"Favorite icon\" />\n    //         </div>\n    //     )\n    // }\n    // if (JSON.parse(localStorage.getItem(\"favMovies\")).includes(movieObj)) {\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"movie-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-poster\",\n      children: movieObj.poster_path === null ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: noPoster,\n        alt: \"No poster\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `https://image.tmdb.org/t/p/original${movieObj.poster_path}`,\n        alt: movieObj.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: movieObj.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: movieObj.release_date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movie-rating\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: movieObj.vote_average > 5.0 ? thumbup : thumbdown,\n          alt: \"rate Icon\",\n          id: \"movie-rating-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [movieObj.vote_average * 10, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"overview\",\n        children: movieObj.overview\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/movie/${movieObj.id}/credits`,\n        children: \"More Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: heartIcon()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MovieCard, \"xOrVYWH5MpWkNoSKbRwEe5guiJg=\");\n\n_c = MovieCard;\nexport default MovieCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieCard\");","map":{"version":3,"sources":["/Users/claire/Documents/GitHub/movie-app/src/components/MovieCard.js"],"names":["useState","useEffect","Link","noPoster","addFavorite","removeFavorite","NavLink","MovieCard","movieObj","fav","setFav","addFav","fave","JSON","parse","localStorage","getItem","find","m","title","index","findIndex","movie","id","splice","setItem","stringify","console","log","push","heartIcon","favs","findMovie","poster_path","release_date","vote_average","thumbup","thumbdown","overview"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAmC,OAAnC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,SAASC,OAAT,QAAwB,kBAAxB;;;;;AAIA,SAASC,SAAT,CAAmB;AAAEC,EAAAA;AAAF,CAAnB,EAAiC;AAAA;;AAE7B,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBV,QAAQ,CAAC,KAAD,CAA9B,CAF6B,CAG7B;;AACA,WAASW,MAAT,GAAkB;AAGd;AACA;AACA,QAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAX;;AACA,QAAGJ,IAAI,CAACK,IAAL,CAAUC,CAAC,IAAIA,CAAC,CAACC,KAAF,IAAWX,QAAQ,CAACW,KAAnC,KAA6C,IAAhD,EAAsD;AAClD;AACA,YAAMC,KAAK,GAAGR,IAAI,CAACS,SAAL,CAAgBC,KAAD,IAAWA,KAAK,CAACC,EAAN,IAAYf,QAAQ,CAACe,EAA/C,CAAd;;AACA,UAAGH,KAAK,GAAG,CAAC,CAAZ,EAAc;AACVR,QAAAA,IAAI,CAACY,MAAL,CAAYJ,KAAZ,EAAmB,CAAnB,EADU,CAEV;;AACAL,QAAAA,YAAY,CAACU,OAAb,CAAqB,WAArB,EAAkCZ,IAAI,CAACa,SAAL,CAAed,IAAf,CAAlC;AACAe,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;AACH;AAEJ,KAXD,MAWO;AACHO,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAhB,MAAAA,IAAI,CAACiB,IAAL,CAAUrB,QAAV;AACAO,MAAAA,YAAY,CAACU,OAAb,CAAqB,WAArB,EAAkCZ,IAAI,CAACa,SAAL,CAAed,IAAf,CAAlC;AACH;;AAEDF,IAAAA,MAAM,CAACG,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAD,CAAN;AAEH;;AAKD,QAAMc,SAAS,GAAG,MAAM;AACpB,QAAIC,IAAI,GAAGlB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAX;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAOG,IAAnB;;AACA,QAAGA,IAAI,CAACd,IAAL,CAAUC,CAAC,IAAIA,CAAC,CAACK,EAAF,IAAQf,QAAQ,CAACe,EAAhC,KAAuC,IAA1C,EAAgD;AAC5C,YAAMS,SAAS,GAAIV,KAAD,IAAWA,KAAK,CAACC,EAAN,IAAYf,QAAQ,CAACe,EAAlD;;AACA,YAAMH,KAAK,GAAGW,IAAI,CAACV,SAAL,CAAeW,SAAf,CAAd;;AACA,UAAGZ,KAAK,GAAG,CAAC,CAAZ,EAAc;AACV,4BACI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAiC,UAAA,OAAO,EAAET,MAA1C;AAAA,iCACI;AAAK,YAAA,GAAG,EAAEN,cAAV;AAA0B,YAAA,GAAG,EAAC;AAA9B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ;AAKH;AAEJ,KAXD,MAWO;AACHsB,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACI,0BACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAA8B,QAAA,OAAO,EAAEjB,MAAvC;AAAA,+BACI;AAAK,UAAA,GAAG,EAAEP,WAAV;AAAuB,UAAA,GAAG,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ;AAKP,KArBmB,CA2BpB;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEH,GA3DD;;AA+DA,sBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,gBAGKI,QAAQ,CAACyB,WAAT,KAAyB,IAAzB,gBACG;AAAK,QAAA,GAAG,EAAE9B,QAAV;AAAoB,QAAA,GAAG,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,cADH,gBAEG;AAAK,QAAA,GAAG,EAAG,sCAAqCK,QAAQ,CAACyB,WAAY,EAArE;AAAwE,QAAA,GAAG,EAAEzB,QAAQ,CAACW;AAAtF;AAAA;AAAA;AAAA;AAAA;AALR;AAAA;AAAA;AAAA;AAAA,YADJ,eASI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,8BACI;AAAA,kBAAKX,QAAQ,CAACW;AAAd;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,kBAAIX,QAAQ,CAAC0B;AAAb;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,gCACI;AAAK,UAAA,GAAG,EAAE1B,QAAQ,CAAC2B,YAAT,GAAwB,GAAxB,GAA8BC,OAA9B,GAAwCC,SAAlD;AAA6D,UAAA,GAAG,EAAC,WAAjE;AAA6E,UAAA,EAAE,EAAC;AAAhF;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,qBAAK7B,QAAQ,CAAC2B,YAAV,GAA0B,EAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAOI;AAAG,QAAA,SAAS,EAAC,UAAb;AAAA,kBAAyB3B,QAAQ,CAAC8B;AAAlC;AAAA;AAAA;AAAA;AAAA,cAPJ,eAQI,QAAC,IAAD;AAAM,QAAA,EAAE,EAAG,UAAS9B,QAAQ,CAACe,EAAG,UAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,eASI;AAAA,kBAAOO,SAAS;AAAhB;AAAA;AAAA;AAAA;AAAA,cATJ;AAAA;AAAA;AAAA;AAAA;AAAA,YATJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAwBH;;GAzHQvB,S;;KAAAA,S;AA2HT,eAAeA,SAAf","sourcesContent":["import { useState, useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport noPoster from '../images/no-movie-poster.jpg';\nimport addFavorite from '../images/add-favorite.png';\nimport removeFavorite from '../images/remove-favorite.png';\nimport { NavLink } from 'react-router-dom';\nimport thumbup from '../images/thumbup.svg';\nimport thumbdown from '../images/thumbdown.svg';\n\nfunction MovieCard({ movieObj }) {\n\n    const [fav, setFav] = useState(false);\n    // if movie not found in localstorage in favorites page then push movie into it\n    function addFav() {\n\n\n        // CLAIRE TRYING\n        // using JSON.parse so that can access to and use the values from the favMovies\n        let fave = JSON.parse(localStorage.getItem(\"favMovies\"));\n        if(fave.find(m => m.title == movieObj.title) != null ){\n            // const findMovie = (movie) => movie.id == movieObj.id ;\n            const index = fave.findIndex((movie) => movie.id == movieObj.id);\n            if(index > -1){\n                fave.splice(index, 1);\n                // storage.setItem(keyName, keyValue); ==> both has to be in strings\n                localStorage.setItem(\"favMovies\", JSON.stringify(fave))\n                console.log(\"FOUND\");\n                console.log(index);\n            }\n\n        } else {\n            console.log(\"NOT FOUND\");\n            fave.push(movieObj);\n            localStorage.setItem(\"favMovies\", JSON.stringify(fave));\n        }\n\n        setFav(JSON.parse(localStorage.getItem(\"favMovies\")));\n        \n    }\n\n\n    \n\n    const heartIcon = () => {\n        let favs = JSON.parse(localStorage.getItem(\"favMovies\"));\n        console.log(typeof(favs));\n        if(favs.find(m => m.id == movieObj.id) != null ){\n            const findMovie = (movie) => movie.id == movieObj.id ;\n            const index = favs.findIndex(findMovie);\n            if(index > -1){\n                return (\n                    <div className=\"remove-favorite\" onClick={addFav}>\n                        <img src={removeFavorite} alt=\"Unfavorite icon\" />\n                    </div>\n                )\n            }\n\n        } else {\n            console.log(\"unfaved\");\n                return (\n                    <div className=\"add-favorite\" onClick={addFav}>\n                        <img src={addFavorite} alt=\"Favorite icon\" />\n                    </div>\n                )\n        }\n\n\n\n\n\n        // let favs = JSON.parse(localStorage.getItem(\"favMovies\"));\n        // console.log(favs);\n\n        // if(favs.includes(movieObj)){\n            \n        //     if ( (favs.find(m => m.title == movieObj.title)) != null) {\n        //         console.log(\"faved\")\n        //         return (\n        //             <div className=\"remove-favorite\" onClick={addFav}>\n        //                 <img src={removeFavorite} alt=\"Unfavorite icon\" />\n        //             </div>\n        //         )\n        //     } else {\n        //         console.log(\"unfaved\");\n        //         return (\n        //             <div className=\"add-favorite\" onClick={addFav}>\n        //                 <img src={addFavorite} alt=\"Favorite icon\" />\n        //             </div>\n        //         )\n        //     }\n\n        // } else {\n        //     // console.log(\"unfaved\");\n        //     return (\n        //         <div className=\"add-favorite\" onClick={addFav}>\n        //             <img src={addFavorite} alt=\"Favorite icon\" />\n        //         </div>\n        //     )\n        // }\n\n        // if (JSON.parse(localStorage.getItem(\"favMovies\")).includes(movieObj)) {\n        \n    }\n\n\n\n    return (\n        <div className=\"movie-card\">\n            <div className=\"movie-poster\">\n                {/* If no poster, then render the no poster image */}\n                {/* If there is a movie poster, then output using movie id (url parameter) */}\n                {movieObj.poster_path === null ?\n                    <img src={noPoster} alt=\"No poster\" /> :\n                    <img src={`https://image.tmdb.org/t/p/original${movieObj.poster_path}`} alt={movieObj.title} />\n                }\n            </div>\n            <div className=\"movie-info\">\n                <h3>{movieObj.title}</h3>\n                <p>{movieObj.release_date}</p>\n                <div className=\"movie-rating\">\n                    <img src={movieObj.vote_average > 5.0 ? thumbup : thumbdown} alt=\"rate Icon\" id=\"movie-rating-icon\" />\n                    <p>{(movieObj.vote_average) * 10}%</p>\n                </div>\n                <p className=\"overview\">{movieObj.overview}</p>\n                <Link to={`/movie/${movieObj.id}/credits`}>More Info</Link>\n                <div>{ heartIcon() }</div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default MovieCard;\n\n"]},"metadata":{},"sourceType":"module"}