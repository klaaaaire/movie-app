{"ast":null,"code":"var _jsxFileName = \"/Users/claire/Documents/GitHub/movie-app/src/pages/PageHome.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { API_KEY, API_TOKEN } from '../globals/globals';\nimport NavSort from '../components/NavSort';\nimport Movies from '../components/Movies';\nimport Banner from '../components/Banner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PageHome({\n  sort\n}) {\n  _s();\n\n  const [movieData1, setMovieData1] = useState(null);\n  const [movieData2, setMovieData2] = useState(null);\n  const [movieData3, setMovieData3] = useState(null);\n  const [movieData4, setMovieData4] = useState(null);\n  const [movieData5, setMovieData5] = useState(null);\n  const [page, setPage] = useState(1); // variable for Banner\n\n  const [movieDataBanner, setMovieDataBanner] = useState(null);\n  const [movieBannerLength, setMovieBannerLength] = useState(null); // when change occurs(like sort property), run the function in useEffect\n\n  useEffect(() => {\n    // using async since we need the data before load the page\n    const fetchMovies = async () => {\n      // fetch() - built in function\n      const res = await fetch(`https://api.themoviedb.org/3/movie/${sort}?&language=en-US&page=${page}`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + API_TOKEN\n        }\n      });\n      let rawMovieData = await res.json(); // splice making a copy of array that returned \n\n      rawMovieData = rawMovieData.results.splice(0, 12); // save the data returned into a variable \n\n      if (page === 1) {\n        setMovieData1(rawMovieData);\n      } else if (page === 2) {\n        setMovieData2(rawMovieData);\n      } else if (page === 3) {\n        setMovieData3(rawMovieData);\n      } else if (page === 4) {\n        setMovieData4(rawMovieData);\n      } else if (page === 5) {\n        setMovieData5(rawMovieData);\n      }\n    };\n\n    fetchMovies();\n  }, [sort, page]); // Banner\n\n  const fetchPopularMovies = async () => {\n    const res = await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=1`, {\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + API_TOKEN\n      }\n    });\n    let popularMovieData = await res.json();\n    popularMovieData = popularMovieData.results.splice(0, 10);\n    setMovieDataBanner(popularMovieData);\n    setMovieBannerLength(popularMovieData.length);\n  };\n\n  useEffect(async () => {\n    await fetchPopularMovies();\n  }, []);\n\n  function handleLoadMore() {\n    setPage(page + 1);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Banner, {\n      movieObj: movieDataBanner,\n      movieBannerLength: movieBannerLength\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NavSort, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), movieData1 !== null && /*#__PURE__*/_jsxDEV(Movies, {\n      movieData: movieData1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 37\n    }, this), movieData1 !== null && movieData2 === null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"load-more-btn-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLoadMore,\n        className: \"load-more-btn\",\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 103\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 62\n    }, this), movieData2 !== null && /*#__PURE__*/_jsxDEV(Movies, {\n      movieData: movieData2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 37\n    }, this), movieData2 !== null && movieData3 === null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"load-more-btn-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLoadMore,\n        className: \"load-more-btn\",\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 103\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 62\n    }, this), movieData3 !== null && /*#__PURE__*/_jsxDEV(Movies, {\n      movieData: movieData3\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 37\n    }, this), movieData3 !== null && movieData4 === null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"load-more-btn-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLoadMore,\n        className: \"load-more-btn\",\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 104\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 63\n    }, this), movieData4 !== null && /*#__PURE__*/_jsxDEV(Movies, {\n      movieData: movieData4\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 37\n    }, this), movieData4 !== null && movieData5 === null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"load-more-btn-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLoadMore,\n        className: \"load-more-btn\",\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 101\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 60\n    }, this), movieData5 !== null && /*#__PURE__*/_jsxDEV(Movies, {\n      movieData: movieData5\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 37\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PageHome, \"gta+SeTg4lAwSPANAKdWHb1z1GM=\");\n\n_c = PageHome;\nexport default PageHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"PageHome\");","map":{"version":3,"sources":["/Users/claire/Documents/GitHub/movie-app/src/pages/PageHome.js"],"names":["useEffect","useState","API_KEY","API_TOKEN","NavSort","Movies","Banner","PageHome","sort","movieData1","setMovieData1","movieData2","setMovieData2","movieData3","setMovieData3","movieData4","setMovieData4","movieData5","setMovieData5","page","setPage","movieDataBanner","setMovieDataBanner","movieBannerLength","setMovieBannerLength","fetchMovies","res","fetch","headers","rawMovieData","json","results","splice","fetchPopularMovies","Authorization","popularMovieData","length","handleLoadMore"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport { API_KEY, API_TOKEN } from '../globals/globals';\nimport NavSort from '../components/NavSort';\nimport Movies from '../components/Movies';\nimport Banner from '../components/Banner';\n\n\n\nfunction PageHome({ sort }) {\n\n    const [movieData1, setMovieData1] = useState(null);\n    const [movieData2, setMovieData2] = useState(null);\n    const [movieData3, setMovieData3] = useState(null);\n    const [movieData4, setMovieData4] = useState(null);\n    const [movieData5, setMovieData5] = useState(null);\n\n    const [page, setPage] = useState(1)\n\n    // variable for Banner\n    const [movieDataBanner, setMovieDataBanner] = useState(null);\n    const [movieBannerLength, setMovieBannerLength] = useState(null);\n\n\n    // when change occurs(like sort property), run the function in useEffect\n    useEffect(() => {\n        // using async since we need the data before load the page\n        const fetchMovies = async() => {\n            // fetch() - built in function\n            const res = await fetch(`https://api.themoviedb.org/3/movie/${sort}?&language=en-US&page=${page}`, {\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer '+ API_TOKEN \n                }\n                \n            });\n            let rawMovieData = await res.json();\n\n            // splice making a copy of array that returned \n            rawMovieData = rawMovieData.results.splice(0, 12);\n    \n            // save the data returned into a variable \n            \n\n            if(page === 1){\n                setMovieData1(rawMovieData);\n            }else if(page === 2) {\n                setMovieData2(rawMovieData);\n            } else if (page === 3 ){\n                setMovieData3(rawMovieData);\n            }else if(page === 4) {\n                setMovieData4(rawMovieData);\n            }else if(page === 5) {\n                setMovieData5(rawMovieData);\n            }\n\n        }\n\n        fetchMovies();\n    }, [sort, page]);\n\n\n\n    // Banner\n    const fetchPopularMovies = async() => {\n        const res = await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=1`, {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + API_TOKEN,\n            },\n        });\n        let popularMovieData = await res.json();\n        popularMovieData = popularMovieData.results.splice(0, 10);\n        setMovieDataBanner(popularMovieData);\n        setMovieBannerLength(popularMovieData.length);\n\n    };\n    useEffect( async () => {\n        await fetchPopularMovies();\n    }, []);\n\n    function handleLoadMore(){\n        setPage(page + 1);\n    }\n\n    return (\n        <div>\n            <Banner movieObj = {movieDataBanner} movieBannerLength = {movieBannerLength} />\n            <NavSort />\n            {movieData1 !== null && <Movies movieData={movieData1} />}\n            {(movieData1 !== null && movieData2 === null) && <div className='load-more-btn-container'><button onClick={handleLoadMore} className='load-more-btn'>Load More</button></div>}\n            \n            {movieData2 !== null && <Movies movieData={movieData2} />}\n            {(movieData2 !== null && movieData3 === null) && <div className='load-more-btn-container'><button onClick={handleLoadMore} className='load-more-btn'>Load More</button></div> }\n        \n            {movieData3 !== null && <Movies movieData={movieData3} />}\n            {(movieData3 !== null && movieData4 === null ) && <div className='load-more-btn-container'><button onClick={handleLoadMore} className='load-more-btn'>Load More</button></div>}\n           \n            {movieData4 !== null && <Movies movieData={movieData4} />}\n            {(movieData4 !== null && movieData5===null) && <div className='load-more-btn-container'><button onClick={handleLoadMore} className='load-more-btn'>Load More</button></div>}\n         \n            {movieData5 !== null && <Movies movieData={movieData5} />}\n        </div>\n\n        \n    )\n}\n\nexport default PageHome;\n"]},"metadata":{},"sourceType":"module"}