{"ast":null,"code":"var _jsxFileName = \"/Users/claire/Documents/GitHub/movie-app/src/pages/PageHome.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useCallback } from 'react';\nimport { API_KEY, API_TOKEN } from '../globals/globals';\nimport NavSort from '../components/NavSort';\nimport Movies from '../components/Movies';\nimport Banner from '../components/Banner';\nimport axios from 'axios';\nimport useFetch from \"hooks/useFetch\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PageHome({\n  sort\n}) {\n  _s();\n\n  const [movieData1, setMovieData1] = useState(null);\n  const [movieData2, setMovieData2] = useState(null);\n  const [movieData3, setMovieData3] = useState(null);\n  const [movieData4, setMovieData4] = useState(null);\n  const [movieData5, setMovieData5] = useState(null);\n  const [page, setPage] = useState(1); // variable for Banner\n\n  const [movieDataBanner, setMovieDataBanner] = useState(null);\n  const [movieBannerLength, setMovieBannerLength] = useState(null); // when change occurs(like sort property), run the function in useEffect\n  // useEffect(() => {\n  // using async since we need the data before load the page\n  //     const fetchMovies = async() => {\n  //         // fetch() - built in function\n  //         const res = await fetch(`https://api.themoviedb.org/3/movie/${sort}?&language=en-US&page=${page}`, {\n  //             headers: {\n  //                 'Accept': 'application/json',\n  //                 'Content-Type': 'application/json',\n  //                 'Authorization': 'Bearer '+ API_TOKEN \n  //             }\n  //         });\n  //         let rawMovieData = await res.json();\n  //         // splice making a copy of array that returned \n  //         rawMovieData = rawMovieData.results.splice(0, 12);\n  //         // save the data returned into a variable \n  //         if(page === 1){\n  //             setMovieData1(rawMovieData);\n  //         }else if(page === 2) {\n  //             setMovieData2(rawMovieData);\n  //         } else if (page === 3 ){\n  //             setMovieData3(rawMovieData);\n  //         }else if(page === 4) {\n  //             setMovieData4(rawMovieData);\n  //         }else if(page === 5) {\n  //             setMovieData5(rawMovieData);\n  //         }\n  //     }\n  //     fetchMovies();\n  // }, [sort, page]);\n  // Banner\n\n  const fetchPopularMovies = async () => {\n    const res = await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=1`, {\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + API_TOKEN\n      }\n    });\n    let popularMovieData = await res.json();\n    popularMovieData = popularMovieData.results.splice(0, 10);\n    setMovieDataBanner(popularMovieData);\n    setMovieBannerLength(popularMovieData.length);\n  };\n\n  useEffect(async () => {\n    await fetchPopularMovies();\n  }, []);\n\n  function handleLoadMore() {\n    setPage(page + 1);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Banner, {\n      movieObj: movieDataBanner,\n      movieBannerLength: movieBannerLength\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NavSort, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), movieData1 !== null && /*#__PURE__*/_jsxDEV(Movies, {\n      movieData: movieData1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 37\n    }, this), movieData1 !== null && movieData2 === null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"load-more-btn-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLoadMore,\n        className: \"load-more-btn\",\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 103\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 62\n    }, this), movieData2 !== null && /*#__PURE__*/_jsxDEV(Movies, {\n      movieData: movieData2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 37\n    }, this), movieData2 !== null && movieData3 === null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"load-more-btn-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLoadMore,\n        className: \"load-more-btn\",\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 103\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 62\n    }, this), movieData3 !== null && /*#__PURE__*/_jsxDEV(Movies, {\n      movieData: movieData3\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 37\n    }, this), movieData3 !== null && movieData4 === null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"load-more-btn-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLoadMore,\n        className: \"load-more-btn\",\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 104\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 63\n    }, this), movieData4 !== null && /*#__PURE__*/_jsxDEV(Movies, {\n      movieData: movieData4\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }, this), movieData4 !== null && movieData5 === null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"load-more-btn-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLoadMore,\n        className: \"load-more-btn\",\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 101\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 60\n    }, this), movieData5 !== null && /*#__PURE__*/_jsxDEV(Movies, {\n      movieData: movieData5\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 37\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PageHome, \"olom+NYhRY+0ds84V9HF/X4QpNM=\");\n\n_c = PageHome;\nexport default PageHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"PageHome\");","map":{"version":3,"sources":["/Users/claire/Documents/GitHub/movie-app/src/pages/PageHome.js"],"names":["useEffect","useState","useCallback","API_KEY","API_TOKEN","NavSort","Movies","Banner","axios","useFetch","PageHome","sort","movieData1","setMovieData1","movieData2","setMovieData2","movieData3","setMovieData3","movieData4","setMovieData4","movieData5","setMovieData5","page","setPage","movieDataBanner","setMovieDataBanner","movieBannerLength","setMovieBannerLength","fetchPopularMovies","res","fetch","headers","Authorization","popularMovieData","json","results","splice","length","handleLoadMore"],"mappings":"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","sourcesContent":["import { useEffect, useState, useCallback } from 'react';\nimport { API_KEY, API_TOKEN } from '../globals/globals';\nimport NavSort from '../components/NavSort';\nimport Movies from '../components/Movies';\nimport Banner from '../components/Banner';\nimport axios from 'axios';\nimport useFetch from \"hooks/useFetch\";\n\n\nfunction PageHome({ sort }) {\n\n    const [movieData1, setMovieData1] = useState(null);\n    const [movieData2, setMovieData2] = useState(null);\n    const [movieData3, setMovieData3] = useState(null);\n    const [movieData4, setMovieData4] = useState(null);\n    const [movieData5, setMovieData5] = useState(null);\n\n    const [page, setPage] = useState(1)\n\n    // variable for Banner\n    const [movieDataBanner, setMovieDataBanner] = useState(null);\n    const [movieBannerLength, setMovieBannerLength] = useState(null);\n\n\n    // when change occurs(like sort property), run the function in useEffect\n    // useEffect(() => {\n        // using async since we need the data before load the page\n    //     const fetchMovies = async() => {\n    //         // fetch() - built in function\n    //         const res = await fetch(`https://api.themoviedb.org/3/movie/${sort}?&language=en-US&page=${page}`, {\n    //             headers: {\n    //                 'Accept': 'application/json',\n    //                 'Content-Type': 'application/json',\n    //                 'Authorization': 'Bearer '+ API_TOKEN \n    //             }\n                \n    //         });\n    //         let rawMovieData = await res.json();\n\n    //         // splice making a copy of array that returned \n    //         rawMovieData = rawMovieData.results.splice(0, 12);\n    \n    //         // save the data returned into a variable \n            \n\n    //         if(page === 1){\n    //             setMovieData1(rawMovieData);\n    //         }else if(page === 2) {\n    //             setMovieData2(rawMovieData);\n    //         } else if (page === 3 ){\n    //             setMovieData3(rawMovieData);\n    //         }else if(page === 4) {\n    //             setMovieData4(rawMovieData);\n    //         }else if(page === 5) {\n    //             setMovieData5(rawMovieData);\n    //         }\n\n    //     }\n\n    //     fetchMovies();\n    // }, [sort, page]);\n\n\n\n    // Banner\n    const fetchPopularMovies = async() => {\n        const res = await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=1`, {\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + API_TOKEN,\n            },\n        });\n        let popularMovieData = await res.json();\n        popularMovieData = popularMovieData.results.splice(0, 10);\n        setMovieDataBanner(popularMovieData);\n        setMovieBannerLength(popularMovieData.length);\n\n    };\n    useEffect( async () => {\n        await fetchPopularMovies();\n    }, []);\n\n    function handleLoadMore(){\n        setPage(page + 1);\n    }\n\n    return (\n        <div>\n            <Banner movieObj = {movieDataBanner} movieBannerLength = {movieBannerLength} />\n            <NavSort />\n            {movieData1 !== null && <Movies movieData={movieData1} />}\n            {(movieData1 !== null && movieData2 === null) && <div className='load-more-btn-container'><button onClick={handleLoadMore} className='load-more-btn'>Load More</button></div>}\n            \n            {movieData2 !== null && <Movies movieData={movieData2} />}\n            {(movieData2 !== null && movieData3 === null) && <div className='load-more-btn-container'><button onClick={handleLoadMore} className='load-more-btn'>Load More</button></div> }\n        \n            {movieData3 !== null && <Movies movieData={movieData3} />}\n            {(movieData3 !== null && movieData4 === null ) && <div className='load-more-btn-container'><button onClick={handleLoadMore} className='load-more-btn'>Load More</button></div>}\n           \n            {movieData4 !== null && <Movies movieData={movieData4} />}\n            {(movieData4 !== null && movieData5===null) && <div className='load-more-btn-container'><button onClick={handleLoadMore} className='load-more-btn'>Load More</button></div>}\n         \n            {movieData5 !== null && <Movies movieData={movieData5} />}\n        </div>\n\n        \n    )\n}\n\nexport default PageHome;\n"]},"metadata":{},"sourceType":"module"}